// Everything is nested in .res to ensure specifity and to ensure it doesn't affect non-res users.
.res {
	.toggle.res-sr-style-toggle {
		order: 1;
	}

	#RESShortcutsViewport {
		display: inline;
	}

	#RESShortcutsEditContainer {
		background: none;
		display: inline-block;
		height: 24px;
		line-height: 14px;
		margin-left: 8px;
		max-height: 24px;
		opacity: 0;
		position: relative;
		transition: opacity 0.2s ease-in-out;
	}

	#sr-header-area:hover #RESShortcutsEditContainer {
		opacity: 1;
	}

	#RESShortcutsSort,
	#RESShortcutsRight,
	#RESShortcutsLeft,
	#RESShortcutsAdd,
	#RESShortcutsEditContainer .res-icon {
		background: #36617d no-repeat 4px 4px;
		border-radius: 3px;
		box-shadow: 0 0 3px #000;
		color: #66c0f4;
		font-size: 11px;
		height: 15px;
		line-height: 13px;
		min-height: 15px;
		padding: 0;
		text-align: center;
		top: 3px;
		width: 15px;

		&:hover {
			background-color: #67c1f5;
			color: #fff;
		}
	}

	.RESDropdownList {
		background: $modal-background;
		border-radius: 3px;
		border: 1px solid #fff;
		box-shadow: 0 0 3px #000;
		margin: 2px 0 0 0;
		padding: 8px;

		li {
			background-color: rgba(0, 0, 0, 0.1);
			border-radius: 2px;
			border: 0;
			color: #407898;
			cursor: pointer;
			display: block;
			font-size: 11px;
			font-weight: normal;
			line-height: 25px;
			margin-bottom: 5px;
			padding: 4px 8px;
			text-transform: capitalize;

			&:hover {
				color: #fff;
				background: #67c1f5;
			}

			&:active {
				background: rgba(0, 0, 0, 0.06);
			}
		}

		a:hover {
			color: #fff;
			background: none;
		}
	}

	#openRESPrefs {
		display: inline-block;
		height: 24px;
		margin: 0 4px 0 0;
		position: relative;
		top: 6px;
		width: 27px;
	}

	#userbarToggle {
		background: #36617d;
		border-radius: 3px;
		border: none;
		box-shadow: 0 0 3px #000;
		color: #66c0f4;
		height: 15px;
		line-height: 13px;
		min-height: 15px;
		padding: 0;
		text-align: center;
		top: 10px;
		width: 15px;

		&:hover {
			background-color: #67c1f5;
			color: #fff;
		}
	}

	#userbarToggle.userbarShow {
		right: 1px;
		top: 9px !important;
	}

	#header-bottom-right {
		border-radius: 0;
		top: -6px !important
	}

	.beta-hint a {
		margin-left: -23px;
		top: 12px
	}

	#srList {
		background: linear-gradient(to bottom, #e3eaef 5%, #c7d5e0 95%);
		border: none;
		box-shadow: 0 0 12px #000000;
		padding: 8px 5px 8px 5px;
		top: 30px;

		tr {
			background: none;
			border-bottom: 1px solid rgba(255, 255, 255, 0.5);
			color: #000;
			padding: 4px 6px;

			a {
				color: #333;
			}

			&:hover {
				background-color: #212d3d;
				border-bottom: 1px solid #fff;
				color: #fff;

				a {
					color: #fff;
				}
			}
		}
	}

	#srDropdown,
	#srDropdownContainer {
		height: 23px;
		width: 23px;
	}

	#sr-header-area #srDropdown {
		margin: 0
	}

	#srDropdownContainer a {
		background: url(%%sprite%%) 0 0;
		display: inline-block;
		font-size: 0 !important;
		height: 23px;
		padding: 0;
		position: relative;
		transition: none;
		width: 23px;

		&:hover {
			background-position: 0 -23px;
		}
	}

	.RESDashboardToggle,
	.RESshortcutside {
		background-image: none !important;
		border: none;
		color: #66c0f4;
		margin: 0;
		padding: 4px 6px;
		text-align: center;
		text-decoration: none;
		text-transform: uppercase;
		width: 100px;

		&:hover {
			background-color: transparent;
			color: #fff;
		}
	}

	.RES-keyNav-activeElement,
	.RES-keyNav-activeElement .md-container {
		background: transparent !important;
		background-color: transparent !important;
	}

	&.listing-page .RES-keyNav-activeElement {
		background-color: transparent !important;
		background: transparent !important;
		border-right: 3px solid rgba(255, 255, 255, 0.4);
	
		.md-container {
			border: none !important;
		}
	}

	.res-showImages-highlightNSFWButton .thing.over18 .expando-button::before {
		background: none !important;
	}

	.res-expando-box {
		padding: 4px;
		color: #c6d4df;

		.res-title {
			color: #fff;
			font-family: "Segoe UI", Segoe, Roboto, "Helvetica Neue", Helvetica, "Calibri Light", Calibri, sans-serif;
			font-size: 16px;
			font-weight: normal;
			margin: 16px 0 8px 0;
		}

		.res-gallery-title {
			font-size: 18px;
			margin: 0 0 12px 0;
		}

		.res-caption {
			font-size: 13px;
			margin-bottom: 4px;
			order: initial;
		}

		.res-gallery-position {
			color: #fff;
			font-weight: bold
		}
	}

	.res-step {
		background: rgba(0, 0, 0, 0.4);
		border-radius: 3px;
		color: #67c1f5;
		height: 32px;
		line-height: 32px;
		padding: 0;
		text-align: center;
		width: 32px;

		&:hover {
			background: rgba(102, 192, 244, 0.4);
			color: #fff;

			&:after {
				color: #fff;
			}
		}

		&:after {
			color: #9e9c9b;
		}
	}

	.res-gallery .res-gallery-individual-controls {
		height: 32px;
		margin: 0;
	}

	.res-voteEnhancements-highlightScores {
		span.score {
			color: rgba(255, 255, 255, 0.7);
		}

		span.score.likes {
			color: #a4d007;
		}
		
		span.score.dislikes {
			color: #bb5150;
		}
	}

	.res-commentBoxes .comment {
		margin-left: 0 !important;
	}

	.res-floater-visibleAfterScroll > ul > li {
		opacity: 1;
	}

	#NREMail.havemail {
		display: none;
	}

	#NREMail.nohavemail {
		background-color: #262625;
		background-image: url(%%sprite%%)!important;
		background-position: -23px 0;
		background-repeat: no-repeat!important;
		height: 24px;
		margin: 4px 4px 0 0;
		width: 27px;

		&:hover {
			background-color: #575451;
		}
	}

	#NREMailCount {
		line-height: 24px;
		margin-top: 6px;
	}

	.pageNavigator {
		background-color: rgba(0,0,0,0.4)!important;
		border-radius: 3px;
		color: #999896;
		height: 32px;
		line-height: 25px;
		position: relative;
		width: 32px;

		&:hover {
			background-color: rgba(102,192,244,0.4)!important;
			color: #fff;
		}
	}

	.res-commentBoxes .comment {
		background-color: #324b68 !important;
		border: 1px solid rgba(0,0,0,0.4)!important;
	}
	
	.res-commentBoxes .comment .comment {
		background-color: #273b52 !important;
		border: 1px solid rgba(0,0,0,0.2)!important;
	}
	
	.res-commentBoxes .comment .comment .comment {
		background-color: #324b68 !important;
		border: 1px solid rgba(0,0,0,0.4)!important;
	}
	
	.res-commentBoxes .comment .comment .comment .comment {
		background-color: #273b52 !important;
		border: 1px solid rgba(0,0,0,0.2)!important;
	}
	
	.res-commentBoxes .comment .comment .comment .comment .comment {
		background-color: #324b68 !important;
		border: 1px solid rgba(0,0,0,0.4)!important;
	}
	
	.res-commentBoxes .comment .comment .comment .comment .comment .comment {
		background-color: #273b52 !important;
		border: 1px solid rgba(0,0,0,0.2)!important;
	}
	
	.res-commentBoxes .comment .comment .comment .comment .comment .comment .comment {
		background-color: #324b68 !important;
		border: 1px solid rgba(0,0,0,0.4)!important;
	}
	
	.res-commentBoxes .comment .comment .comment .comment .comment .comment .comment .comment {
		background-color: #273b52 !important;
		border: 1px solid rgba(0,0,0,0.2)!important;
	}
	
	.res-commentBoxes .comment .comment .comment .comment .comment .comment .comment .comment .comment {
		background-color: #324b68 !important;
		border: 1px solid rgba(0,0,0,0.4)!important;
	}


	.commentarea {
		.RESSubscriptionButton {
			background: #799905 linear-gradient(to bottom,#799905 5%,#536904 95%);
			border-radius: 2px;
			border: none;
			color: #D2E885;
			padding: 8px 16px;
			text-align: center;
			text-shadow: -1px -1px 0 rgba(0,0,0,0.1);
			text-transform: capitalize;

			&:hover {
				background: linear-gradient(to bottom, #a4d007 5%, #6b8705 95%);
			}

			&:active {
				box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15), inset 0 -2px 6px -3px #FFF, inset 0 2px 6px -3px #999, inset 0 15px 30px -15px #EFB300, inset 0 -15px 30px -15px #FFE320 !important;
				text-shadow: 0 0 2px #CF9300;
			}

			.res-icon {
				display: none;
			}

			&.unsubscribe {
				background: none;
				border: 1px solid rgba(255, 255, 255, 0.6);
				box-shadow: none !important;
				color: rgba(255, 255, 255, 0.6);
				text-shadow: none;

				&:hover {
					border-color: #fff;
				}

				&:active {
					background: rgba(255, 255, 255, 0.2);
				}
			}
		}

		.RESBigEditorPop {
			margin: 0;

			.res-icon {
				display: none;
			}
		}

		#REScommentNavToggle {
			text-transform: capitalize;
			padding-top: 16px;

			span:first-child {
				margin-right: 4px;
			}
		}

		.commentNavSortType {
			border: none;
			color: $anchor-color;
			font-size: 11px;
			font-weight: normal;
			text-transform: uppercase;

			&:hover {
				color: $anchor-hover-color;
				text-decoration: none;
			}
		}

		.commentNavSortType + .commentNavSortType {
			border: none;
		}
	}

	span.RESCharCounter {
		color: #8f98a0;
		display: inline-block;
		height: 35px;
		line-height: 35px;
	}

	.res-commentPreview-draftStyle .livePreview {
		background: rgba(255,255,255,0.1);
		border: 1px solid rgba(255,255,255,0.2);
		color: #C6D4DF;
		margin-top: 12px;
	}

	.RESDialogSmall.livePreview > h3 {
		background: rgba(255,255,255,0.1);
		border-bottom: 1px solid rgba(255,255,255,0.1);
		color: #fff;
		font-weight: normal;
		height: auto;
		padding-bottom: 12px;
	}

	.markdownEditor {
		a.edit-btn {
			background: rgba(0,0,0,0.4) url(%%sprite%%);
			background-position-x: -194px !important;
			border-radius: 3px;
			border: 0;
			height: $markdown-button-height;
			position: relative;
			width: 32px;

			&:hover {
				background-color: rgba(102,192,244,0.4);
				background-position-x: -226px !important;
			}

			// Loops for the background positions
			// Generates the appropriate background positioning for the spritesheet
			$offset: -24px;

			@each $button in $markdown-button-list {
				$i: index($markdown-button-list, $button)-1;

				&.#{$button} {
					background-position-y: $offset !important;
				}

				$offset: $offset - $markdown-button-height;
			}
		}
	}

	.NERPageMarker,
	#NERFail,
	#progressIndicator {
		background: linear-gradient(to right,rgba(0,0,0,0.2) 0%,rgba(0,0,0,0.5) 100%) repeat scroll 0 0 transparent;
		border-radius: 0;
		border: none;
		color: #fff;
		font-size: 16px;
		font-weight: normal;
		margin: 0 0 2px 0;
		padding: 16px;
		text-align: left;
		text-transform: capitalize;
	}

	#NERFail {
		background: rgba(204,13,13,0.4) repeat scroll 0 0 transparent;
	}

	#progressIndicator {
		height: auto;
		display: block;

		h2 {
			color: #fff;
			font-size: 16px;
			font-weight: normal;
			text-transform: capitalize;
		}

		p {
			font-size: 13px;
		}
	}

	a.voteWeight {
		background: none !important;
	}
}


// For a fixed-bar SR header.
body.res.pinHeader-sub,
body.res.pinHeader-subanduser {
	#sr-header-area {
		top: 0;
	}

	#header-bottom-right {
		z-index: 10001;
		position: fixed;
	}
}

.pinHeader-subanduser #header-bottom-right.res-floating-userbar {
	top: -6px!important;
	opacity: 1;
}

.commentarea .res-expando-box div.usertext-body .md {
	background: none;
	border: none;
}

.res-expando-box .res-text {
	padding: 0;
}

.res .RESDialogSmall {
	@include modal();

	& > h3 {
		background: none;
		color: #2a3e59;
		font: bold 17px $special-font;
		margin: 0;
		padding-bottom: 8px;
		text-align: left;
		text-transform: uppercase;
		padding: 12px;
		margin: 0;
		padding-bottom: 12px;
		height: auto;
		border: none;
	}

	.RESDialogContents {
		padding: 12px;
	}

	.comment .midcol {
		width: auto;
	}

	.tagline {
		margin-left: 0;
		height: 24px;
    	line-height: 24px;
	}

	.comment {
		margin: 0!important;
		padding-left: 5px !important;
	}

	.RESDialogSmall .comment .tagline {
		margin-left: 5px;
	}
}

.RESHoverInfoCard::before {
	border-width: 10px 10px 10px 0;
	left: -10px;
	border-color: transparent #fff;
}

.RESHoverInfoCard::after {
    border-width: 8px 9px 8px 0px;
    border-color: transparent #c6d4df;
    left: -9px;
    top: 12px;
}

.RESDialogSmall .RESCloseButton {
	display: none;
}

.res .parentArrow {
    margin: 4px;
}